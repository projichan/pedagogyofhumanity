/* ===============================
   Pedagogy of Humanity — Nav Bar
   =============================== */

/* Ensure header + nav always span full width */
header {
  width: 100%;
  margin: 0;
  padding: 0;
}
.site-nav {
  width: 100%;   /* redundant but keeps it bulletproof */
}

/* Main nav container */
.site-nav {
  background: #2c7a7b;               /* brand teal */
  position: sticky;
  top: 0;
  z-index: 1000;

  display: flex;
  justify-content: center;
  gap: 40px;
  padding: 16px 0;
  margin: 0;
}

/* Links */
.site-nav a {
  color: #ffffff;                    /* white links */
  text-decoration: none;
  font-size: 18px;
  font-family: Garamond, serif;      /* match learnmore */
  line-height: 1.2;
  padding: 0 6px;                    /* horizontal only (keeps bar height consistent) */
  transition: color .3s ease;
}

/* Hover + focus + current page */
.site-nav a:hover {
  color: #d6dce1;                    /* light gray hover */
}
.site-nav a:focus-visible {
  outline: 3px solid #ffffff;
  outline-offset: 3px;
}
.site-nav a[aria-current="page"] {
  color: #d6dce1;
  text-decoration: underline;
  text-underline-offset: 3px;
}

/* Mobile tweaks: wrap items, smaller gap, bigger tap targets */
@media (max-width: 700px) {
  .site-nav {
    flex-wrap: wrap;                 /* wrap to new line instead of scrolling */
    gap: 16px;
    padding: 12px 8px;
  }
  .site-nav a {
    font-size: 16px;
    padding: 10px 6px;               /* larger tap targets */
  }
}

/* Ultra-small screens: still wrap, just tighter spacing */
@media (max-width: 420px) {
  .site-nav {
    flex-wrap: wrap;                 /* allow multiple lines */
    justify-content: center;         /* center links if they wrap */
    gap: 12px;
    padding: 10px 6px;
  }
  .site-nav a {
    flex: 0 0 auto;                  /* keep links from shrinking too small */
  }
}

/* Reduced motion respect */
@media (prefers-reduced-motion: reduce) {
  .site-nav a {
    transition: none;
  }
}

/* === NAV PATCH: icon caps + list normalization + alignment === */

/* If your nav is a <ul>, remove bullets/spacing and align items */
.site-nav ul { 
  list-style: none; 
  margin: 0; 
  padding: 0; 
  display: flex; 
  gap: 20px;
  flex-wrap: wrap;
  align-items: center;
}
.site-nav li { margin: 0; padding: 0; }

/* Make each link an inline-flex row so icon + text sit on one line */
.site-nav a {
  display: inline-flex;
  align-items: center;
  gap: 8px;               /* space between icon and text */
  padding: 8px 10px;      /* nicer tap target, still compact */
  border-radius: 8px;
}

/* ICONS: stop the chaos (works for <img> and inline <svg>) */
.site-nav img,
.site-nav .icon,
.site-nav svg {
  width: 22px;
  height: 22px;
  max-width: 22px !important;
  max-height: 22px !important;
  flex: 0 0 22px;
  display: inline-block;
  vertical-align: middle;
  object-fit: contain;
}

/* Some inline SVGs set width/height attributes (e.g., 512px). Clamp them. */
.site-nav svg[width]  { width: 22px !important; }
.site-nav svg[height] { height: 22px !important; }

/* Hover/focus stays consistent with your palette */
.site-nav a:hover { background: rgba(255,255,255,.08); }
.site-nav a:focus-visible { outline: 3px solid #ffffff; outline-offset: 3px; }

/* Mobile: keep wrapping gracefully */
@media (max-width: 700px){
  .site-nav ul { gap: 12px; }
  .site-nav a { padding: 10px 8px; }
}
/* === NAVBAR SUMMARY TEXT COLOR FIX === */
.site-nav summary.nav-item {
  color: #d6dce1 !important;    /* unify with link color */
  font-size: 18px;              /* match your link size (use 18pt if you prefer) */
  font-family: Garamond, serif; /* same font */
  display: inline-flex;         /* align with icons */
  align-items: center;
  gap: 8px;                     /* spacing between icon + text */
  cursor: pointer;
  list-style: none;             /* removes disclosure triangle in some browsers */
}

/* Keep the color consistent on hover/focus/open */
.site-nav summary.nav-item:hover,
.site-nav summary.nav-item:focus,
.site-nav summary.nav-item:active,
.site-nav details[open] > summary.nav-item {
  color: #d6dce1 !important;
  background: transparent;
}

/* Hide the default disclosure marker across browsers */
.site-nav summary.nav-item::-webkit-details-marker {
  display: none;
}
.site-nav summary.nav-item::marker {
  content: "";
}
/* === NAV TEXT COLOR: force anchors + summaries + inner spans/icons === */
.site-nav a,
.site-nav a:visited,
.site-nav details > summary.nav-item,
.site-nav details[open] > summary.nav-item {
  color: #d6dce1 !important;
}

.site-nav a span,
.site-nav details > summary.nav-item span {
  color: #d6dce1 !important;   /* hit the inner label explicitly */
}

/* If your icons are inline SVG, make their strokes/fills match too */
.site-nav svg { fill: #d6dce1 !important; stroke: #d6dce1 !important; }

/* Keep the same color on interaction */
.site-nav a:hover,
.site-nav a:focus,
.site-nav a:active,
.site-nav details > summary.nav-item:hover,
.site-nav details > summary.nav-item:focus {
  color: #d6dce1 !important;
}

/* If you’re using the custom caret on summary, match its color */
.site-nav details > summary.nav-item::before { color: currentColor !important; }

/* === MOBILE HAMBURGER NAV (CSS-only) === */
@media (max-width: 700px) {
  /* Show the toggle, hide the full nav by default */
  .hamburger {
    display: block;
    position: sticky;
    top: 0;
    z-index: 1100;
    background: #2c7a7b;
    padding: 10px 12px;
    border-bottom: 1px solid rgba(255,255,255,.15);
  }
  .hamburger-btn {
    list-style: none;           /* hide default marker */
    display: flex; align-items: center; gap: 10px;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    color: #d6dce1;             /* label color */
    font-family: Garamond, serif;
    font-size: 18px;
  }
  .hamburger-btn::-webkit-details-marker { display: none; }
  .hamburger-btn::marker { content: ""; }

  /* Hamburger icon (3 bars) */
  .hamburger-box { position: relative; width: 24px; height: 16px; }
  .hamburger-inner,
  .hamburger-inner::before,
  .hamburger-inner::after {
    content: "";
    position: absolute; left: 0;
    width: 24px; height: 2px; border-radius: 2px;
    background: #d6dce1;
    transition: transform .2s ease, opacity .2s ease;
  }
  .hamburger-inner { top: 7px; }
  .hamburger-inner::before { top: -6px; }
  .hamburger-inner::after  { top: 6px; }

  /* Turn into an “X” when open */
  .hamburger[open] .hamburger-inner { transform: rotate(45deg); }
  .hamburger[open] .hamburger-inner::before { opacity: 0; }
  .hamburger[open] .hamburger-inner::after  { transform: rotate(-90deg); top: 0; }

  /* Hide the full nav until opened */
  .site-nav { display: none; }
  .hamburger[open] + .site-nav {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 10px 8px;
    background: #2c7a7b;       /* match bar */
    border-top: 1px solid rgba(255,255,255,.15);
  }

  /* Make each top-level item a comfy row */
  .site-nav > .nav-item,
  .site-nav > .nav-group > summary.nav-item {
    display: flex; align-items: center; gap: 10px;
    padding: 12px 12px;
    border-radius: 10px;
    background: rgba(255,255,255,.08);
    font-size: 18px; line-height: 1.3;
  }

  /* Submenus: simple inline reveal when the details is open */
  .site-nav .submenu {
    position: static;
    display: none;
    margin: 6px 0 2px 38px;     /* indent under its parent */
    padding: 6px 8px;
    background: transparent; border: 0;
  }
  .site-nav .nav-group[open] > .submenu { display: block; }

  /* Tap targets inside submenu */
  .site-nav .submenu a {
    display: block; padding: 10px 8px; border-radius: 8px;
  }
  .site-nav .submenu a:hover { background: rgba(255,255,255,.08); }

  /* Caret for dropdown parents (summary) */
  .site-nav summary.nav-item::-webkit-details-marker { display: none; }
  .site-nav summary.nav-item::marker { content: ""; }
  .site-nav summary.nav-item::after {
    content: "▸"; margin-left: auto; transform: rotate(0deg);
    transition: transform .18s ease; color: currentColor;
  }
  .site-nav .nav-group[open] > summary.nav-item::after { transform: rotate(90deg); }

  /* Prevent sideways scroll on tiny screens */
  .site-nav { overflow-x: hidden; }
}

/* Desktop: hide hamburger, show normal nav */
@media (min-width: 701px) {
  .hamburger { display: none; }
  .site-nav { display: flex; } /* your existing desktop layout */
}

/* Focus-visible for accessibility */
.hamburger-btn:focus-visible,
.site-nav a:focus-visible,
.site-nav summary.nav-item:focus-visible {
  outline: 3px solid #ffffff;
  outline-offset: 3px;
}

